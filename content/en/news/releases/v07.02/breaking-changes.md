---
title: "Breaking Changes"
linkTitle: "Breaking Changes"
weight: 30
date: 2023-10-20
tags: 
description: >
  Changes in Stroom version 7.2 that may break existing processing or ways of working.
---

{{% warning %}}
Please read this section carefully in case any of the changes affect you.
{{% /warning %}}

## Search API Change

The APIs for running searches against Stroom data sources have changed in a breaking way.
This is due to a change in the way running queries are identified.

Previously the client calling the API would provide generate a unique `key` for the query and included it in the `searchRequest` object.
This key would then be used again if the client wanted to make further requests for results for the same running query.

```json
  "key" : {
    "uuid": "e244d45c-4086-463b-b1a8-10c8c7d7d6c7"
  },
```

In v7.2 the query `key` is now generated by Stroom rather than the client.
In the first search request for a query, the client should now **omit** the `key` field from the request.
Stroom will generate a unique key for the running query and return it in the response.
However, in any subsequent requests for that running query, the client should **include** the `key` field, using the value from the previous response.

If you have static request JSON files then you can easily remove the `key` field using {{< external-link "jq" "https://jqlang.github.io/jq/" >}} as follows:

{{< command-line >}}
jq 'del(.key)' req.json > req.new.json
{{</ command-line >}}

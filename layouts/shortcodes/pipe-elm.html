<!-- 
Short code to add a pipeline element (as seen on the Pipeline Structure
sub-tab) to the page. It will appear as a rounded box containing the icon
and the name.

stroom icon (from /assets/images/stroom-ui/) to the page 
with an optional hover title. If you don't supply a title it will make one from the
filename.
Usage:
stroom-icon filename [title]
e.g
stroom-icon add.svg "Add"
stroom-icon add.svg
-->

{{/* First try to get the resource from the page resources */}}


{{ $filename := (.Get 0) }}
{{ $title := (.Get 1) | default (humanize (strings.TrimSuffix (path.Ext $filename) (path.Base $filename))) }}
{{ $path := printf "/images/stroom-ui/pipeline/%s" $filename }}
{{ $image := resources.Get (printf "%s" $path) }}

<span style="
      font-size: 90%;
      background-color: #f5f9fd;
      border: 1px solid #c4c7ca;
      padding: 0px 5px;
      text-align: center;
      display: inline-block;
      border-radius: 6px;
      box-shadow: rgb(0 0 0 / 15%) 0px 1px 8px;" 
    title="{{ $title }}" >
  <img
    class="stroom-icon" 
    style="max-width: 15px;"
    src="{{ $image.RelPermalink }}" 
    title="{{ $title }}" 
    alt="{{ $filename }}">
  <span>{{ $title }}</span>
</span>
